<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.8.7">Jekyll</generator><link href="https://josecastillolema.github.io/feed.xml" rel="self" type="application/atom+xml" /><link href="https://josecastillolema.github.io/" rel="alternate" type="text/html" /><updated>2020-07-09T20:53:00-03:00</updated><id>https://josecastillolema.github.io/feed.xml</id><title type="html">GitOps</title><subtitle>Networks, SDN, NFVi, OpenStack, K8s/OpenShift.</subtitle><author><name>Jose Castillo Lema</name><email>josecastillolema@gmail.com</email></author><entry><title type="html">AWS Accredited Educator</title><link href="https://josecastillolema.github.io/aws-academy/" rel="alternate" type="text/html" title="AWS Accredited Educator" /><published>2020-07-09T00:00:00-03:00</published><updated>2020-07-09T17:00:58-03:00</updated><id>https://josecastillolema.github.io/aws-academy</id><content type="html" xml:base="https://josecastillolema.github.io/aws-academy/">&lt;p&gt;&lt;a href=&quot;https://aws.amazon.com/pt/training/awsacademy/&quot;&gt;&lt;img src=&quot;/assets/images/posts/2020-07-09-aws-academy/01.png&quot; alt=&quot;&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/posts/2020-07-09-aws-academy/02.jpeg&quot; alt=&quot;&quot; /&gt;
&lt;img src=&quot;/assets/images/posts/2020-07-09-aws-academy/03.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/posts/2020-07-09-aws-academy/04.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;</content><author><name>Jose Castillo Lema</name><email>josecastillolema@gmail.com</email></author><category term="ambassador" /><category term="aws" /><category term="en" /><category term="fiap" /><summary type="html"></summary></entry><entry><title type="html">aodh2sensu - importing alarms from Aodh into Sensu Core</title><link href="https://josecastillolema.github.io/aodh2sensu/" rel="alternate" type="text/html" title="aodh2sensu - importing alarms from Aodh into Sensu Core" /><published>2020-05-25T00:00:00-03:00</published><updated>2020-04-26T17:00:58-03:00</updated><id>https://josecastillolema.github.io/aodh2sensu</id><content type="html" xml:base="https://josecastillolema.github.io/aodh2sensu/">&lt;iframe src=&quot;https://ghbtns.com/github-btn.html?user=josecastillolema&amp;amp;repo=aodh2sensu&amp;amp;type=watch&amp;amp;count=true&amp;amp;size=large&amp;amp;v=2&quot; frameborder=&quot;0&quot; scrolling=&quot;0&quot; width=&quot;130&quot; height=&quot;30&quot; title=&quot;GitHub&quot;&gt;&lt;/iframe&gt;
&lt;iframe src=&quot;https://ghbtns.com/github-btn.html?user=josecastillolema&amp;amp;repo=aodh2sensu&amp;amp;type=star&amp;amp;count=true&amp;amp;size=large&quot; frameborder=&quot;0&quot; scrolling=&quot;0&quot; width=&quot;115&quot; height=&quot;30&quot; title=&quot;GitHub&quot;&gt;&lt;/iframe&gt;
&lt;iframe src=&quot;https://ghbtns.com/github-btn.html?user=josecastillolema&amp;amp;repo=aodh2sensu&amp;amp;type=fork&amp;amp;count=true&amp;amp;size=large&quot; frameborder=&quot;0&quot; scrolling=&quot;0&quot; width=&quot;170&quot; height=&quot;30&quot; title=&quot;GitHub&quot;&gt;&lt;/iframe&gt;

&lt;p&gt;&lt;img src=&quot;https://img.shields.io/github/license/josecastillolema/aodh2sensu&quot; alt=&quot;GitHub&quot; /&gt;
&lt;img src=&quot;https://img.shields.io/github/languages/count/josecastillolema/aodh2sensu&quot; alt=&quot;GitHub language count&quot; /&gt;
&lt;img src=&quot;https://img.shields.io/github/languages/top/josecastillolema/aodh2sensu&quot; alt=&quot;GitHub top language&quot; /&gt;
&lt;img src=&quot;https://img.shields.io/github/pipenv/locked/python-version/josecastillolema/aodh2sensu&quot; alt=&quot;GitHub Pipenv locked Python version&quot; /&gt;
&lt;img src=&quot;https://img.shields.io/github/pipenv/locked/dependency-version/josecastillolema/aodh2sensu/flask&quot; alt=&quot;GitHub Pipenv locked dependency version&quot; /&gt;
&lt;img src=&quot;https://img.shields.io/github/pipenv/locked/dependency-version/josecastillolema/aodh2sensu/requests&quot; alt=&quot;GitHub Pipenv locked dependency version&quot; /&gt;
&lt;a href=&quot;https://requires.io/github/josecastillolema/aodh2sensu/requirements/?branch=master&quot;&gt;&lt;img src=&quot;https://requires.io/github/josecastillolema/aodh2sensu/requirements.svg?branch=master&quot; alt=&quot;Requirements Status&quot; /&gt;&lt;/a&gt;
&lt;img src=&quot;https://img.shields.io/github/workflow/status/josecastillolema/aodh2sensu/CI&quot; alt=&quot;GitHub Workflow Status&quot; /&gt;
&lt;img src=&quot;https://github.com/josecastillolema/aodh2sensu/workflows/Python%20application/badge.svg&quot; alt=&quot;Python application&quot; /&gt;
&lt;img src=&quot;https://github.com/josecastillolema/aodh2sensu/workflows/CI/badge.svg&quot; alt=&quot;CI&quot; /&gt;&lt;/p&gt;

&lt;h1 id=&quot;aodh2sensu&quot;&gt;aodh2sensu&lt;/h1&gt;

&lt;p&gt;Imports &lt;a href=&quot;https://docs.openstack.org/aodh/latest/&quot;&gt;OpenStack Aodh&lt;/a&gt; alarms into &lt;a href=&quot;https://docs.sensu.io/sensu-core/latest/&quot;&gt;Sensu Core&lt;/a&gt; Server.&lt;/p&gt;

&lt;h2 id=&quot;install&quot;&gt;Install&lt;/h2&gt;

&lt;h4 id=&quot;via-with-requirements-file&quot;&gt;Via with requirements file&lt;/h4&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ pip3 install -r ./requirements.txt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;via-pipenv-pipfile&quot;&gt;Via pipenv pipfile&lt;/h4&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ pipenv install
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;use&quot;&gt;Use&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Usage: aodh2sensu.py [options]

Imports OpenStack Aodh alarms into Sensu Core Server.

Options:
  -h, --help            show this help message and exit
  --sensu-url URL       if not specified, defaults to localhost:4567
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Run the &lt;code class=&quot;highlighter-rouge&quot;&gt;aodh2sensu&lt;/code&gt; proxy. &lt;code class=&quot;highlighter-rouge&quot;&gt;sensu_url&lt;/code&gt; must point to the sensu server. The proxy must be run in a server reachable from OpenStack controllers and with access to the Sensu Server (for example, the Sensu Server itself).&lt;/p&gt;

    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; $ ./aodh2sensu.py
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
    &lt;p&gt;or alternatively via pipenv:&lt;/p&gt;
    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; $ pipenv shell
 $ ./aodh2sensu.py
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;Create an Aodh alarm from OpenStack side. This example alarm will trigger an HTTP POST message to the &lt;code class=&quot;highlighter-rouge&quot;&gt;aodh2sensu&lt;/code&gt; proxy whenever the cpu utilization of &lt;code class=&quot;highlighter-rouge&quot;&gt;$INSTANCE_ID&lt;/code&gt; goes above 20%:
    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; $ openstack alarm create \
 --name cpu_hi \
 --type gnocchi_resources_threshold \
 --description 'CPU High Average' \
 --metric cpu_util4 \
 --threshold 20.0 \
 --comparison-operator gt \
 --aggregation-method mean \
 --granularity 300 \
 --evaluation-periods 1 \
 --resource-type instance \
 --resource-id $INSTANCE_ID \
 --alarm-action 'http://x.y.z.w:50000' \
 --ok-action 'http://x.y.z.w:50000' \
 --insufficient-data-action 'http://x.y.z.w:50000'
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
    &lt;p&gt;where &lt;code class=&quot;highlighter-rouge&quot;&gt;x.y.z.w&lt;/code&gt; is the IP address of the server running &lt;code class=&quot;highlighter-rouge&quot;&gt;aodh2sensu&lt;/code&gt; proxy.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;Confirm the alarm transitions from &lt;code class=&quot;highlighter-rouge&quot;&gt;insufficient_data&lt;/code&gt; state to &lt;code class=&quot;highlighter-rouge&quot;&gt;ok&lt;/code&gt; state:
    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; $ openstack alarm list
 +--------------------------------------+--------------------------------------------+----------------+-------------------+----------+---------+
 | alarm_id                             | type                                       | name           | state             | severity | enabled |
 +--------------------------------------+--------------------------------------------+----------------+-------------------+----------+---------+
 | c466d832-cfce-4488-9726-c631800a36b1 | gnocchi_resources_threshold                | cpu_hi4        | ok                | low      | True    |
 +--------------------------------------+--------------------------------------------+----------------+-------------------+----------+---------+
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;Generate load in the instance above the 20% threeshold, and wait for the alarm to transitition to &lt;code class=&quot;highlighter-rouge&quot;&gt;alarm&lt;/code&gt; state:
    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; $ openstack alarm list
 +--------------------------------------+--------------------------------------------+----------------+-------------------+----------+---------+
 | alarm_id                             | type                                       | name           | state             | severity | enabled |
 +--------------------------------------+--------------------------------------------+----------------+-------------------+----------+---------+
 | c466d832-cfce-4488-9726-c631800a36b1 | gnocchi_resources_threshold                | cpu_hi4        | alarm             | low      | True    |
 +--------------------------------------+--------------------------------------------+----------------+-------------------+----------+---------+
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Check the alarm from the Uchiwa dashboard:
&lt;img src=&quot;https://raw.githubusercontent.com/josecastillolema/aodh2sensu/master/doc/img/screenshot1.png&quot; alt=&quot;Screenshot 1 of the Uchiwa dashboard&quot; /&gt;
&lt;img src=&quot;https://raw.githubusercontent.com/josecastillolema/aodh2sensu/master/doc/img/screenshot2.png&quot; alt=&quot;Screenshoto 2 of the Uchiwa dashboard&quot; /&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;Stop the load generation in the instance, wait for the alarm to transition back to &lt;code class=&quot;highlighter-rouge&quot;&gt;ok&lt;/code&gt; state:
    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; $ openstack alarm list
 +--------------------------------------+--------------------------------------------+----------------+-------------------+----------+---------+
 | alarm_id                             | type                                       | name           | state             | severity | enabled |
 +--------------------------------------+--------------------------------------------+----------------+-------------------+----------+---------+
 | c466d832-cfce-4488-9726-c631800a36b1 | gnocchi_resources_threshold                | cpu_hi4        | ok                | low      | True    |
 +--------------------------------------+--------------------------------------------+----------------+-------------------+----------+---------+
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Check the new state of the sensu alert:
&lt;img src=&quot;https://raw.githubusercontent.com/josecastillolema/aodh2sensu/master/doc/img/screenshot3.png&quot; alt=&quot;Screenshot 3 of the Uchiwa dashboard&quot; /&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;Confirm it has disappeared from the list of active alerts:
&lt;img src=&quot;https://raw.githubusercontent.com/josecastillolema/aodh2sensu/master/doc/img/screenshot4.png&quot; alt=&quot;Screenshot 4 of the Uchiwa dashboard&quot; /&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;docker&quot;&gt;Docker&lt;/h2&gt;
&lt;p&gt;To build the image:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ buildah build-using-dockerfile -t aodh2sensu .
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To run the image:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ podman run --name aodh2sensu --add-host=&quot;localhost:10.88.0.1&quot; -d -p 50000:50000 aodh2sensu
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Pointing to a specific Sensu Server URL:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ podman run --name aodh2sensu --add-host=&quot;localhost:10.88.0.1&quot; -d -p 50000:50000 -e SENSU_URL=x.y.z.w:p aodh2sensu
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Check logs:&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ podman logs aodh2sensu
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;systemd&quot;&gt;Systemd&lt;/h2&gt;

&lt;p&gt;To run &lt;code class=&quot;highlighter-rouge&quot;&gt;aodh2sensu&lt;/code&gt; as a systemd service.&lt;/p&gt;

&lt;h3 id=&quot;normal&quot;&gt;Normal&lt;/h3&gt;
&lt;div class=&quot;language-ini highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# cat /usr/lib/systemd/system/aodh2sensu.service
&lt;/span&gt;&lt;span class=&quot;nn&quot;&gt;[Unit]&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;Description&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;aodh2sensu service&lt;/span&gt;

&lt;span class=&quot;nn&quot;&gt;[Service]&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;Type&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;simple&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;ExecStart&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;/opt/aodh2sensu/aodh2sensu.py&lt;/span&gt;

&lt;span class=&quot;nn&quot;&gt;[Install]&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;WantedBy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;multi-user.target&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;docker-1&quot;&gt;Docker&lt;/h3&gt;
&lt;div class=&quot;language-ini highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# cat ~/.config/systemd/user/aodh2sensu.service 
&lt;/span&gt;&lt;span class=&quot;nn&quot;&gt;[Unit]&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;Description&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;aodh2sensu service via podman&lt;/span&gt;

&lt;span class=&quot;nn&quot;&gt;[Service]&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;Restart&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;on-failure&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;ExecStartPre&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;/usr/bin/rm -f /%t/%n-pid /%t/%n-cid&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;ExecStart&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;/usr/bin/podman run --conmon-pidfile  /%t/%n-pid  --cidfile /%t/%n-cid --add-host=&quot;localhost:10.88.0.1&quot; -d --name aodh2sensu -p 50000:50000 aodh2sensu&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;ExecStop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;/usr/bin/sh -c &quot;/usr/bin/podman rm -f `cat /%t/%n-cid`&quot;&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;KillMode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;none&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;Type&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;forking&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;PIDFile&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;/%t/%n-pid&lt;/span&gt;

&lt;span class=&quot;nn&quot;&gt;[Install]&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;WantedBy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;multi-user.target&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;iframe src=&quot;https://ghbtns.com/github-btn.html?user=josecastillolema&amp;amp;type=follow&amp;amp;count=true&amp;amp;size=large&quot; frameborder=&quot;0&quot; scrolling=&quot;0&quot; width=&quot;230&quot; height=&quot;30&quot; title=&quot;GitHub&quot;&gt;&lt;/iframe&gt;</content><author><name>Jose Castillo Lema</name><email>josecastillolema@gmail.com</email></author><category term="en" /><category term="openstack" /><category term="monitoring" /><category term="redhat" /><summary type="html"></summary></entry><entry><title type="html">OpenStack Ussuri Contributor List</title><link href="https://josecastillolema.github.io/ussuri-contributor-list/" rel="alternate" type="text/html" title="OpenStack Ussuri Contributor List" /><published>2020-05-11T00:00:00-03:00</published><updated>2020-05-11T17:00:58-03:00</updated><id>https://josecastillolema.github.io/ussuri-contributor-list</id><content type="html" xml:base="https://josecastillolema.github.io/ussuri-contributor-list/">&lt;p&gt;&lt;a href=&quot;https://www.openstack.org/software/ussuri/&quot;&gt;https://www.openstack.org/software/ussuri/&lt;/a&gt;&lt;/p&gt;</content><author><name>Jose Castillo Lema</name><email>josecastillolema@gmail.com</email></author><category term="en" /><category term="nfv" /><category term="openstack" /><category term="redhat" /><summary type="html">https://www.openstack.org/software/ussuri/</summary></entry><entry><title type="html">OpenShift 4.3 on RHOSP 13: Installation and Integrations</title><link href="https://josecastillolema.github.io/osp43-on-rhosp13/" rel="alternate" type="text/html" title="OpenShift 4.3 on RHOSP 13: Installation and Integrations" /><published>2020-04-26T00:00:00-03:00</published><updated>2020-04-26T17:00:58-03:00</updated><id>https://josecastillolema.github.io/osp43-on-rhosp13</id><content type="html" xml:base="https://josecastillolema.github.io/osp43-on-rhosp13/">&lt;p&gt;I would like to share my experience installing and integrating OpenShift with various OpenStack services, namely Cinder, Swift and Keystone (Neutron and Octavia TBD).&lt;/p&gt;

&lt;h2 id=&quot;prerequisites&quot;&gt;Prerequisites&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;This was not a disconnected environment. Note that virtual machines have to be born with proper DNS configuration for OpenShift to download proper CoreOS images (&lt;code class=&quot;highlighter-rouge&quot;&gt;NeutronDhcpAgentDnsmasqDnsServer&lt;/code&gt; parameter from Director).&lt;/li&gt;
  &lt;li&gt;On Ceph RGW, the account in url option must be enabled (&lt;code class=&quot;highlighter-rouge&quot;&gt;rgw_swift_account_in_url: true&lt;/code&gt; parameter from Director).&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;installation&quot;&gt;Installation&lt;/h2&gt;
&lt;p&gt;Following official documentation: &lt;a href=&quot;https://access.redhat.com/documentation/en-us/openshift_container_platform/4.3/html-single/installing_on_openstack/index&quot;&gt;https://access.redhat.com/documentation/en-us/openshift_container_platform/4.3/html-single/installing_on_openstack/index&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Prepared a bastion server within the OpenShift project for convenience, downloaded into it the OpenStack credentials file and added the password into it.&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;[cloud-user@bastion ~]$ ./openshift-install create install-config --dir=installationDoc
? SSH Public Key /home/cloud-user/.ssh/id_rsa.pub
? Platform openstack
? Cloud openstack
? ExternalNetwork public
? APIFloatingIPAddress 192.168.226.42
? FlavorName openshift
? Base Domain openshift.com.br
? Cluster Name lab01
? Pull Secret [? for help] ‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The resulting configuration:&lt;/p&gt;
&lt;div class=&quot;language-yaml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;pi&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;cloud-user@bastion ~&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;$ cat installationDoc/install-config.yaml&lt;/span&gt; 
&lt;span class=&quot;na&quot;&gt;apiVersion&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;v1&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;baseDomain&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;openshift.com.br&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;compute&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;hyperthreading&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;Enabled&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;  name&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;worker&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;  platform&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pi&quot;&gt;{}&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;  replicas&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;controlPlane&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;  hyperthreading&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;Enabled&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;  name&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;master&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;  platform&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pi&quot;&gt;{}&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;  replicas&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;  creationTimestamp&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;null&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;  name&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;lab01&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;networking&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;  clusterNetwork&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;  - cidr&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;10.128.0.0/14&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;    hostPrefix&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;23&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;  machineCIDR&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;10.0.0.0/16&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;  networkType&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;OpenShiftSDN&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;  serviceNetwork&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;  - 172.30.0.0/16&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;platform&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;  openstack&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;    cloud&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;openstack&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;    computeFlavor&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;openshift&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;    externalDNS&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;null&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;    externalNetwork&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;public&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;    lbFloatingIP&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;192.168.226.42&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;    octaviaSupport&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;0&quot;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;    region&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;    trunkSupport&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;1&quot;&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;publish&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;External&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;pullSecret&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;{&quot;auths&quot;:{&quot;cloud.openshift.com&quot;:{&quot;auth”:”abc==&quot;,&quot;email&quot;:&quot;jlema@redhat.com&quot;},&quot;quay.io&quot;:{&quot;auth”:”abc==&quot;,&quot;email&quot;:&quot;jlema@redhat.com&quot;},&quot;registry.connect.redhat.com&quot;:{&quot;auth”:”abc==”,”email&quot;:&quot;jlema@redhat.com&quot;},&quot;registry.redhat.io&quot;:{&quot;auth”:”abc==,”,”email&quot;:&quot;jlema@redhat.com&quot;}}}'&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;sshKey&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pi&quot;&gt;|&lt;/span&gt;
&lt;span class=&quot;err&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s&quot;&gt; ssh-rsa abc== cloud-user@bastion‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;As opposed to what the documentation says regarding the number of replicas (a positive integer greater than or equal to 3 for control nodes and greater to 2 for worker nodes), the installation actually works with 1 control node and 1 worker.&lt;/p&gt;

&lt;p&gt;Proceed with the actual installation:&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;[cloud-user@bastion ~]$ ./openshift-install create cluster --dir=installationDoc --log-level=debug ‍‍‍‍‍‍‍
First try we got this error:
...
INFO Creating infrastructure resources...         
...

INFO Waiting up to 30m0s for the Kubernetes API at https://api.lab01.openshift.oss.timbrasil.com.br:6443... 
ERROR Attempted to gather ClusterOperator status after installation failure: listing 
INFO Pulling debug logs from the bootstrap machine 
ERROR Attempted to gather debug logs after installation failure: failed to create SSH client, ensure the proper ssh key is in your keyring or specify with --key: dial tcp 192.168.226.40:22: connect: connection refused 
FATAL Bootstrap failed to complete: waiting for Kubernetes API: context deadline exceeded
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It was a &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1799078&quot;&gt;MTU issue&lt;/a&gt;, as our environment has jumbo frames as its default. Actually, there is no way to set MTU in IPI installations, and it was decided to wait to a future feature where you will be able to create your networking in OpenStack and then instruct the installer to use the existing networking resources while still installing with the IPI workflow (something like bring your own network).&lt;/p&gt;

&lt;p&gt;The (not very elegant) solution was to wait for the network creation, and manually configure the MTU, before the virtual machines are created:&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;[cloud-user@bastion ~]$ watch -n 10 openstack network list
[cloud-user@bastion ~]$ openstack network set --mtu 1400 lab01-n67mh-openshift‍‍‍‍‍‍‍‍‍‍‍‍‍‍
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Another issue we found at this point it is that for some reason the openshift-installer does not use soft anti-affinity policies (different from AWS and from &lt;a href=&quot;https://github.com/openshift/installer/blob/master/docs/user/openstack/install_upi.md&quot;&gt;OpenStack UPI installation&lt;/a&gt;), and may create all the masters/workers in the same server. The only option to accomplish this would be to define different regions for the nodes, which is not supported from RHOSP side.&lt;/p&gt;

&lt;p&gt;Finally, installation completed:
&lt;img src=&quot;/assets/images/posts/2020-04-26-osp43-on-rhosp13/0.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;cinder-integration&quot;&gt;Cinder Integration&lt;/h2&gt;
&lt;p&gt;Worked out of the box:&lt;/p&gt;
&lt;div class=&quot;language-yaml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;pi&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;cloud-user@bastion ~&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;$ oc get storageClass&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;NAME                 TYPE&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;standard (default)   kubernetes.io/cinder‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍&lt;/span&gt;

&lt;span class=&quot;pi&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;cloud-user@bastion ~&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;$ oc describe storageClass standard&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;Name:           standard&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;IsDefaultClass&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;Yes&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;Annotations:    storageclass.kubernetes.io/is-default-class=true&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;Provisioner:    kubernetes.io/cinder&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;Parameters:     &amp;lt;none&amp;gt;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;Events:         &amp;lt;none&amp;gt;‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍&lt;/span&gt;

&lt;span class=&quot;pi&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;cloud-user@bastion ~&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;$ oc get -o yaml storageClass standard&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;allowVolumeExpansion&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;true&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;apiVersion&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;storage.k8s.io/v1&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;StorageClass&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;  annotations&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;    storageclass.kubernetes.io/is-default-class&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;true&quot;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;  creationTimestamp&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;2020-03-24T18:17:11Z&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;  name&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;standard&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;  ownerReferences&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;  - apiVersion&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;v1&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;    kind&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;clusteroperator&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;    name&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;storage&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;    uid&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;82643882-1e38-4fdd-98c2-fb19636ad003&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;  resourceVersion&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;10307&quot;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;  selfLink&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;/apis/storage.k8s.io/v1/storageclasses/standard&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;  uid&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;7bb9919c-2ea7-4f1d-aedf-111b6c16e68c&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;provisioner&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;kubernetes.io/cinder&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;reclaimPolicy&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;Delete&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;volumeBindingMode&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;WaitForFirstConsumer‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Create a persistent volume claim from this template:&lt;/p&gt;
&lt;div class=&quot;language-yaml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;na&quot;&gt;apiVersion&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;v1&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;PersistentVolumeClaim&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;metadata&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
 &lt;span class=&quot;na&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;vol-teste-vai&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;spec&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
 &lt;span class=&quot;na&quot;&gt;accessModes&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;  - ReadWriteOnce&lt;/span&gt;
 &lt;span class=&quot;s&quot;&gt;resources&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;   requests&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;     storage&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;10Gi&lt;/span&gt;
 &lt;span class=&quot;s&quot;&gt;storageClassName&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;standard‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;As the &lt;code class=&quot;highlighter-rouge&quot;&gt;volumeBindingMode&lt;/code&gt; is set to &lt;code class=&quot;highlighter-rouge&quot;&gt;WaitForFirstConsumer&lt;/code&gt;, we had to actually attach the PV to a deployment in order to the Cinder volume to be created. For that, we used OpenShift GUI:
&lt;img src=&quot;/assets/images/posts/2020-04-26-osp43-on-rhosp13/1.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;From OpenShift side:&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;cloud-user@bastion ~]$ oc get pv
NAME                                       CAPACITY   ACCESSMODES   RECLAIMPOLICY   STATUS    CLAIM                   STORAGECLASS   REASON    AGE
pvc-691a2bbb-0d5a-4d2f-94e2-f50708085c7d   10Gi       RWO           Delete          Bound     default/vol-teste-vai   standard                 55s‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;From OpenStack side, the actual Cinder volume created dynamically by OpenShift:&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;(overcloudrc) [cloud-user@bastion ~]$ openstack volume list
+--------------------------------------+--------------------------------------------------------------+-----------+------+-------------+
| ID                                   | Name                                                         | Status    | Size | Attached to |
+--------------------------------------+--------------------------------------------------------------+-----------+------+-------------+
| b75c57b4-ea8f-4d73-b0d6-28ab02458842 | lab01-9v54g-dynamic-pvc-691a2bbb-0d5a-4d2f-94e2-f50708085c7d | available |   10 |             |
+--------------------------------------+--------------------------------------------------------------+-----------+------+-------------+‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;swift-integration&quot;&gt;Swift Integration&lt;/h2&gt;
&lt;p&gt;Worked out of the box.&lt;/p&gt;

&lt;p&gt;From OpenStack side:&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;(overcloud) [stack@manager ~]$ openstack container list
+----------------------------------------------------------------+
| Name                                                           |
+----------------------------------------------------------------+
| lab01-9v54g-image-registry-phbhqxrotxhvfkunvehpebfyeyajvoiirer |
+----------------------------------------------------------------+‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;We can see the docker registry images inside the container:&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;(overcloud) [stack@manager ~]$ swift list lab01-9v54g-image-registry-phbhqxrotxhvfkunvehpebfyeyajvoiirer | grep registry
files/docker/registry/v2/blobs/sha256/02/02c05272c8dd4f99d68e12066db506412bef3c460dbb4a587a7cafc8af593e35/data
files/docker/registry/v2/blobs/sha256/45/455ea8ab06218495bbbcb14b750a0d644897b24f8c5dcf9e8698e27882583412/data
files/docker/registry/v2/blobs/sha256/46/46fc24a071a44b29a3ba49c94f75a47514a56470d539c9204f3e7688973fc93a/data
files/docker/registry/v2/blobs/sha256/4a/4abfcf58ff10724f3886be18423f80a481e90c4b258fbecad6ea06917a266003/data
files/docker/registry/v2/blobs/sha256/56/566b3d0a5bcd5903e86174ab1551a402b1c0dade2aa918d86895516bd2d0dd43/data
files/docker/registry/v2/blobs/sha256/6d/6d3329d5faa944944d54166b52dd7d11fcb99e6467950b5679095a44346c1cc8/data
files/docker/registry/v2/blobs/sha256/81/8170b35922ece1799b004d6fe41e253808d47da894197d3c7fe2b49614336fa7/data
files/docker/registry/v2/blobs/sha256/84/84e620d0abe585d05a7bed55144af0bc5efe083aed05eac1e88922034ddf1ed2/data
files/docker/registry/v2/blobs/sha256/b5/b57725894ce17afd25fefcef7fdb2467837e85834bf482759b9ca67b261a3724/data
files/docker/registry/v2/blobs/sha256/bb/bb13d92caffa705f32b8a7f9f661e07ddede310c6ccfa78fb53a49539740e29b/data
files/docker/registry/v2/repositories/openshift/python/_layers/sha256/455ea8ab06218495bbbcb14b750a0d644897b24f8c5dcf9e8698e27882583412/link
files/docker/registry/v2/repositories/openshift/python/_layers/sha256/46fc24a071a44b29a3ba49c94f75a47514a56470d539c9204f3e7688973fc93a/link
files/docker/registry/v2/repositories/openshift/python/_layers/sha256/4abfcf58ff10724f3886be18423f80a481e90c4b258fbecad6ea06917a266003/link
files/docker/registry/v2/repositories/openshift/python/_layers/sha256/8170b35922ece1799b004d6fe41e253808d47da894197d3c7fe2b49614336fa7/link
files/docker/registry/v2/repositories/openshift/python/_layers/sha256/84e620d0abe585d05a7bed55144af0bc5efe083aed05eac1e88922034ddf1ed2/link
files/docker/registry/v2/repositories/openshift/python/_layers/sha256/bb13d92caffa705f32b8a7f9f661e07ddede310c6ccfa78fb53a49539740e29b/link
files/docker/registry/v2/repositories/openshift/python/_manifests/revisions/sha256/566b3d0a5bcd5903e86174ab1551a402b1c0dade2aa918d86895516bd2d0dd4/‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍‍link
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;keystone-integration&quot;&gt;Keystone Integration&lt;/h2&gt;
&lt;p&gt;Tricky when using self-signed certificates from OpenStack side. &lt;a href=&quot;https://docs.openshift.com/container-platform/4.3/authentication/identity_providers/configuring-keystone-identity-provider.html&quot;&gt;Openshift Keystone Identity Provider&lt;/a&gt; only works with https keystone endpoints.&lt;/p&gt;

&lt;p&gt;From the other side, there are several issues for deploying OpenShift on top endpoints with self-signed certificates:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1735192&quot;&gt;[OSP] allow retrieval of ignition files from behind an encrypted endpoint which uses a self-signed certificate&lt;/a&gt; / target release 4.4.0&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1769879&quot;&gt;[IPI][OSP] Machine-api cannot create workers on osp envs installed with self-signed certs&lt;/a&gt; / target release 4.4.0&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1796822&quot;&gt;[OSP] allow retrieval of ignition files from behind an encrypted endpoint which uses a self-signed certificate&lt;/a&gt; / target release 4.3.z&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1788072&quot;&gt;[IPI][OSP] Machine-api cannot create workers on osp envs installed with self-signed certs&lt;/a&gt; / target release 4.3.z&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;TBD&lt;/p&gt;

&lt;h2 id=&quot;neutronoctavia-integration-kuryr&quot;&gt;Neutron/Octavia Integration (Kuryr)&lt;/h2&gt;
&lt;p&gt;TBD&lt;/p&gt;

&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://developers.redhat.com/blog/2020/02/06/red-hat-openshift-4-2-ipi-on-openstack-13-all-in-one-setup/&quot;&gt;Red Hat OpenShift 4.2 IPI on OpenStack 13: All-in-one setup&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://keithtenzer.com/2019/10/29/automated-infrastructure-in-the-on-premise-datacenter-openshift-4-2-on-openstack-15-stein/&quot;&gt;Automated Infrastructure in the On-Premise Datacenter – OpenShift 4.2 on OpenStack 15 (Stein)&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://kdjlab.com/openshift-4-2-on-red-hat-openstack-platform-13/&quot;&gt;OpenShift 4.2 on Red Hat OpenStack Platform 13&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name>Jose Castillo Lema</name><email>josecastillolema@gmail.com</email></author><category term="en" /><category term="openstack" /><category term="openshift" /><category term="redhat" /><summary type="html">I would like to share my experience installing and integrating OpenShift with various OpenStack services, namely Cinder, Swift and Keystone (Neutron and Octavia TBD).</summary></entry><entry><title type="html">Open Networking Foundation Ambassador</title><link href="https://josecastillolema.github.io/onf-ambassador/" rel="alternate" type="text/html" title="Open Networking Foundation Ambassador" /><published>2020-04-04T00:00:00-03:00</published><updated>2020-04-30T17:00:58-03:00</updated><id>https://josecastillolema.github.io/onf-ambassador</id><content type="html" xml:base="https://josecastillolema.github.io/onf-ambassador/">&lt;p&gt;&lt;a href=&quot;https://ambassadors.opennetworking.org/&quot;&gt;ONF Ambassador Program&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://ambassadors.opennetworking.org/directory/jose-castillo-lema/&quot;&gt;Profile&lt;/a&gt;&lt;/p&gt;</content><author><name>Jose Castillo Lema</name><email>josecastillolema@gmail.com</email></author><category term="ambassador" /><category term="en" /><category term="networks" /><category term="nfv" /><category term="sdn" /><summary type="html">ONF Ambassador Program</summary></entry><entry><title type="html">ComputeHCISriov role for Director/TripleO</title><link href="https://josecastillolema.github.io/computehcisriov-role/" rel="alternate" type="text/html" title="ComputeHCISriov role for Director/TripleO" /><published>2020-01-06T00:00:00-03:00</published><updated>2020-01-06T17:00:58-03:00</updated><id>https://josecastillolema.github.io/computehcisriov-role</id><content type="html" xml:base="https://josecastillolema.github.io/computehcisriov-role/">&lt;p&gt;Hyper-converged SR-IOV role for compute nodes.&lt;/p&gt;

&lt;p&gt;Change &lt;code class=&quot;highlighter-rouge&quot;&gt;700887&lt;/code&gt; proposed and merged upstream: &lt;a href=&quot;https://review.opendev.org/#/c/700887/&quot;&gt;https://review.opendev.org/#/c/700887/&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;###############################################################################
# Role: ComputeHCISriov #
###############################################################################
- name: ComputeHCISriov
 description: |
 Compute Node with SR-IOV role hosting Ceph OSD too
 networks:
 - InternalApi
 - Tenant
 - Storage
 - StorageMgmt
 - Management
 default_route_networks: ['Management']
 disable_upgrade_deployment: True
 RoleParametersDefault:
 TunedProfileName: &quot;cpu-partitioning&quot;
 # CephOSD present so serial has to be 1
 update_serial: 1
 ServicesDefault:
 - OS::TripleO::Services::Aide
 - OS::TripleO::Services::AuditD
 - OS::TripleO::Services::BootParams
 - OS::TripleO::Services::CACerts
 - OS::TripleO::Services::CephClient
 - OS::TripleO::Services::CephExternal
 - OS::TripleO::Services::CephOSD
 - OS::TripleO::Services::CertmongerUser
 - OS::TripleO::Services::Collectd
 - OS::TripleO::Services::ComputeCeilometerAgent
 - OS::TripleO::Services::ComputeNeutronCorePlugin
 - OS::TripleO::Services::ComputeNeutronL3Agent
 - OS::TripleO::Services::ComputeNeutronMetadataAgent
 - OS::TripleO::Services::ComputeNeutronOvsAgent
 - OS::TripleO::Services::Docker
 - OS::TripleO::Services::Fluentd
 - OS::TripleO::Services::IpaClient
 - OS::TripleO::Services::Ipsec
 - OS::TripleO::Services::Iscsid
 - OS::TripleO::Services::Kernel
 - OS::TripleO::Services::LoginDefs
 - OS::TripleO::Services::MetricsQdr
 - OS::TripleO::Services::MySQLClient
 - OS::TripleO::Services::NeutronBgpVpnBagpipe
 - OS::TripleO::Services::NeutronSriovAgent
 - OS::TripleO::Services::NeutronSriovHostConfig
 - OS::TripleO::Services::NeutronVppAgent
 - OS::TripleO::Services::NovaCompute
 - OS::TripleO::Services::NovaLibvirt
 - OS::TripleO::Services::NovaLibvirtGuests
 - OS::TripleO::Services::NovaMigrationTarget
 - OS::TripleO::Services::Ntp
 - OS::TripleO::Services::ContainersLogrotateCrond
 - OS::TripleO::Services::OpenDaylightOvs
 - OS::TripleO::Services::Rhsm
 - OS::TripleO::Services::RsyslogSidecar
 - OS::TripleO::Services::Securetty
 - OS::TripleO::Services::SensuClient
 - OS::TripleO::Services::SkydiveAgent
 - OS::TripleO::Services::Snmp
 - OS::TripleO::Services::Sshd
 - OS::TripleO::Services::Timezone
 - OS::TripleO::Services::TripleoFirewall
 - OS::TripleO::Services::TripleoPackages
 - OS::TripleO::Services::Vpp
 - OS::TripleO::Services::OVNController
 - OS::TripleO::Services::OVNMetadataAgent
 - OS::TripleO::Services::Ptp
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;</content><author><name>Jose Castillo Lema</name><email>josecastillolema@gmail.com</email></author><category term="en" /><category term="nfv" /><category term="openstack" /><category term="redhat" /><summary type="html">Hyper-converged SR-IOV role for compute nodes.</summary></entry><entry><title type="html">FIAP MBA ON Live - 1ASO - Fase 3 - Cloud</title><link href="https://josecastillolema.github.io/fiapon-live-1aso/" rel="alternate" type="text/html" title="FIAP MBA ON Live - 1ASO - Fase 3 - Cloud" /><published>2019-10-10T00:00:00-03:00</published><updated>2019-10-10T17:00:58-03:00</updated><id>https://josecastillolema.github.io/fiapon-live-1aso</id><content type="html" xml:base="https://josecastillolema.github.io/fiapon-live-1aso/">&lt;iframe width=&quot;560&quot; height=&quot;315&quot; src=&quot;https://www.youtube.com/embed/iYChd1SVEzc&quot; frameborder=&quot;0&quot; allow=&quot;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;

&lt;p&gt;&lt;img src=&quot;https://img.shields.io/youtube/views/iYChd1SVEzc?style=social&quot; alt=&quot;YouTube Video Views&quot; /&gt;
&lt;img src=&quot;https://img.shields.io/youtube/likes/iYChd1SVEzc?style=social&quot; alt=&quot;YouTube Video Likes&quot; /&gt;
&lt;img src=&quot;https://img.shields.io/youtube/likes/iYChd1SVEzc?style=social&amp;amp;withDislikes&quot; alt=&quot;YouTube Video Votes&quot; /&gt;&lt;/p&gt;</content><author><name>Jose Castillo Lema</name><email>josecastillolema@gmail.com</email></author><category term="fiap" /><category term="live" /><category term="pt" /><summary type="html"></summary></entry><entry><title type="html">FIAP MBA em Artificial Intelligence &amp;amp; Machine Learning (IA)</title><link href="https://josecastillolema.github.io/fiap-ia/" rel="alternate" type="text/html" title="FIAP MBA em Artificial Intelligence &amp; Machine Learning (IA)" /><published>2019-09-03T00:00:00-03:00</published><updated>2019-09-03T17:00:58-03:00</updated><id>https://josecastillolema.github.io/fiap-ia</id><content type="html" xml:base="https://josecastillolema.github.io/fiap-ia/">&lt;p&gt;&lt;a href=&quot;https://www.fiap.com.br/mba/mba-em-artificial-intelligence-e-machine-learning/&quot;&gt;&lt;img src=&quot;https://raw.githubusercontent.com/josecastillolema/fiap/master/img/ia.png&quot; alt=&quot;FIAP MBA&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/josecastillolema/fiap/tree/master/ia/iot&quot;&gt;Princípios de Robótica e IoT&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name>Jose Castillo Lema</name><email>josecastillolema@gmail.com</email></author><category term="classes" /><category term="fiap" /><category term="iot" /><category term="pt" /><summary type="html">Princípios de Robótica e IoT</summary></entry><entry><title type="html">Kuryr on OpenStack</title><link href="https://josecastillolema.github.io/kuryr/" rel="alternate" type="text/html" title="Kuryr on OpenStack" /><published>2019-08-06T00:00:00-03:00</published><updated>2019-08-06T17:00:58-03:00</updated><id>https://josecastillolema.github.io/kuryr</id><content type="html" xml:base="https://josecastillolema.github.io/kuryr/">&lt;p&gt;&lt;img src=&quot;/assets/images/posts/2019-08-06-kuryr.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/openstack/kuryr&quot;&gt;Kuryr&lt;/a&gt; is Kubernetes Container Network Interface (CNI) for OpenStack, supported from OpenStack side from Red Hat OpenStack 13, for OpenShift 3.11 and for OpenShift 4.2 and above.&lt;/p&gt;

&lt;p&gt;If you are interested on checking the performance impact, check the post &lt;a href=&quot;https://www.openshift.com/blog/accelerate-your-openshift-network-performance-on-openstack-with-kuryr&quot;&gt;Accelerate your OpenShift Network Performance on OpenStack with Kuryr&lt;/a&gt; from the &lt;a href=&quot;https://www.openshift.com/blog&quot;&gt;official openshift blog&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Kuryr code lives in Kubernetes/OpenShift space, however there are some prerequisites from OpenStack side in order to properly work:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://wiki.openstack.org/wiki/Octavia&quot;&gt;Octavia&lt;/a&gt;, OpenStack`s load balancer as a service&lt;/li&gt;
  &lt;li&gt;Open vSwitch as Neutron firewall driver&lt;/li&gt;
  &lt;li&gt;The trunk extension to be enabled at Neutron&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The following TripleO/Director Heat template satisfies these prerequisites:&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; resource_registry:
    OS::TripleO::Services::OctaviaApi: /usr/share/openstack-tripleo-heat-templates/docker/services/octavia-api.yaml
    OS::TripleO::Services::OctaviaHousekeeping: /usr/share/openstack-tripleo-heat-templates/docker/services/octavia-housekeeping.yaml
    OS::TripleO::Services::OctaviaHealthManager: /usr/share/openstack-tripleo-heat-templates/docker/services/octavia-health-manager.yaml
    OS::TripleO::Services::OctaviaWorker: /usr/share/openstack-tripleo-heat-templates/docker/services/octavia-worker.yaml
    OS::TripleO::Services::OctaviaDeploymentConfig: /usr/share/openstack-tripleo-heat-templates/docker/services/octavia/octavia-deployment-config.yaml

parameter_defaults:
    # This flag enables internal generation of certificates for communication
    # with amphorae. Use OctaviaCaCert, OctaviaCaKey, OctaviaCaKeyPassphrase
    # and OctaviaClient cert to configure secure production environments.
    OctaviaGenerateCerts: true

    # As an Octavia Load Balancer is used to access the OpenShift API, there is a need to increase their listeners      # default timeouts for the connections. The default timeout is 50 seconds. Increase the timeout to 20 minutes 
    OctaviaTimeoutClientData: 1200000
    OctaviaTimeoutMemberData: 1200000

    NeutronOVSFirewallDriver: 'openvswitch'

    # In RHOSP 13, the trunk extension is enabled by default at Neutron, if that is not the case, make sure
    # to add trunk the comma separated list of service plugin entrypoints defined in NeutronServicePlugins
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;</content><author><name>Jose Castillo Lema</name><email>josecastillolema@gmail.com</email></author><category term="en" /><category term="networks" /><category term="openshift" /><category term="openstack" /><category term="redhat" /><summary type="html"></summary></entry><entry><title type="html">A generic NFV MANO for Content-Centric Networks</title><link href="https://josecastillolema.github.io/thesis/" rel="alternate" type="text/html" title="A generic NFV MANO for Content-Centric Networks" /><published>2019-08-05T00:00:00-03:00</published><updated>2019-08-05T17:00:58-03:00</updated><id>https://josecastillolema.github.io/thesis</id><content type="html" xml:base="https://josecastillolema.github.io/thesis/">&lt;h2 id=&quot;biblioteca-digital-de-teses-e-dissertações-da-usp&quot;&gt;&lt;a href=&quot;https://teses.usp.br/teses/disponiveis/3/3142/tde-23102019-120559&quot;&gt;Biblioteca Digital de Teses e Dissertações da USP&lt;/a&gt;&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;ISO&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;CASTILLO LEMA, José. &lt;em&gt;A generic network function virtualization manager and orchestrator for content-centric networks&lt;/em&gt; [doi:10.11606/T.3.2019.tde-23102019-120559]. São Paulo : Escola Politécnica, Universidade de São Paulo, 2019. Tese de Doutorado em Sistemas Eletrônicos. [acesso 2020-06-01].&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;ABNT&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;CASTILLO LEMA, José. &lt;strong&gt;A generic network function virtualization manager and orchestrator for content-centric networks&lt;/strong&gt;. 2019. Tese (Doutorado em Sistemas Eletrônicos) - Escola Politécnica, Universidade de São Paulo, São Paulo, 2019. doi:10.11606/T.3.2019.tde-23102019-120559. Acesso em: 2020-06-01.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;APA&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Castillo Lema, J. (2019). &lt;em&gt;A generic network function virtualization manager and orchestrator for content-centric networks&lt;/em&gt;. Tese de Doutorado, Escola Politécnica, Universidade de São Paulo, São Paulo. doi:10.11606/T.3.2019.tde-23102019-120559. Recuperado em 2020-06-01, de www.teses.usp.br&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Vancouver&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Castillo Lema, José. A generic network function virtualization manager and orchestrator for content-centric networks [tese]. São Paulo: , Escola Politécnica; 2019 [citado 2020-06-01]. doi:10.11606/T.3.2019.tde-23102019-120559.&lt;/p&gt;</content><author><name>Jose Castillo Lema</name><email>josecastillolema@gmail.com</email></author><category term="ccn" /><category term="en" /><category term="networks" /><category term="nfv" /><summary type="html">Biblioteca Digital de Teses e Dissertações da USP</summary></entry></feed>